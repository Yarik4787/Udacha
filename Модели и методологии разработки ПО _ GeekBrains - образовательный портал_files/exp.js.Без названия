"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign.apply(this,arguments)};!function(e,t){var n,r,i;!function(e){e.CssInsert="css-insert",e.TextInsert="text-insert",e.Href="href-insert",e.ImageSrc="image-insert",e.Html="html-replace",e.JS="js-insert"}(r||(r={})),function(e){e.Init="init",e.Param="getParam",e.Flags="getFlags",e.Experiments="getExperiments",e.SetConfig="setConfig",e.GetConfig="getConfig"}(i||(i={}));var a={},o={},s={},c={enableRedir:!0,enableVisual:!0,enableHTML:!0,enableJS:!1},u={},l="https://uaas.yandex.ru/v1/exps/";var f="_ymab_param",v=new RegExp("(?:^|; )".concat(f,"=([^;]*)")),p=/\/$/;function m(e,t){var n=e.indexOf(t);return-1===n?[]:[e.slice(0,n).trim(),e.slice(n+1)]}function h(e,t){return e.reduce((function(e,n){var i=n.t,a=n.n,o=n.v;function s(){var t=e.flags[a];t||(e.flags[a]=t=[]),t.push(o)}if("visual"===i&&t.enableVisual){var c=m(o,"|"),u=c[0],l=c[1];if(!u||void 0===l)return e;switch(a){case r.CssInsert:e.cssInsert.push({selector:u,value:l});break;case r.TextInsert:e.textInsert.push({selector:u,value:l});break;case r.Href:e.hrefInsert.push({selector:u,value:l});break;case r.ImageSrc:e.imageSrcInsert.push({selector:u,value:l});break;case r.Html:t.enableHTML?e.htmlReplace.push({selector:u,value:l}):s();break;case r.JS:t.enableJS?e.jsInsert.push({selector:u,value:l}):s()}return e}return"redir"===i&&t.enableRedir?(e.redirect.push(o),e):(s(),e)}),{cssInsert:[],textInsert:[],redirect:[],hrefInsert:[],imageSrcInsert:[],htmlReplace:[],jsInsert:[],flags:{}})}function d(e){return e?t.querySelector(e):void 0}function g(e,t,n){void 0===n&&(n=100);var r=t.selector,i=t.value;if(r&&void 0!==i){var a=d(r);a?e(a,i):n>0&&setTimeout((function(){return g(e,t,n-1)}),100)}}function y(e,t){t&&t.length&&t.forEach((function(t){return g(e,t)}))}var b=y.bind(null,(function(e,t){return e.textContent=t})),x=y.bind(null,(function(e,t){return e.setAttribute("href",t.trim())})),I=y.bind(null,(function(e,t){return e.setAttribute("src",t.trim())})),w=y.bind(null,(function(e,t){return e.innerHTML=t}));var S=!1;function T(t,n){var r=m(t,"."),i=(r[0],r[1]);!function r(){if(i){var a=function(t){var n,r,i="yaCounter".concat(t),a=e[i];if(!a)try{var o=(null===(r=null===(n=e.Ya)||void 0===n?void 0:n._metrika)||void 0===r?void 0:r.counters)||{};return o[Object.keys(o).find((function(e){return 0===e.indexOf("".concat(t,":"))}))||""]}catch(e){}return a}(i);if(a){try{a.experiments(n)}catch(e){}S=!0}else setTimeout(r,10)}else console.error("Bad clientId = ".concat(t))}()}function _(t,n){void 0===n&&(n=e.location.href);var r=new URL(n),i=r.pathname;r.pathname="";var a=new URL(t,r.toString());a.protocol=r.protocol,a.hostname=r.hostname;var o=0,s=!0;if(r.searchParams.forEach((function(e,t){"ab__exp_flags"!==t&&(o++,a.searchParams.has(t)?s&&a.searchParams.get(t)!==e&&(s=!1):a.searchParams.set(t,e))})),s&&(s=o===Array.from(a.searchParams.keys()).length),!s||i.replace(p,"")!==a.pathname.replace(p,""))return a.toString()}function E(e,t){var n=6,r=0;!function i(){var a;try{for(;r<t.length;r++)null===(a=t[r])||void 0===a||a.call(null,e)}catch(e){n-- >0?setTimeout(i,50):console.error(e)}}()}var j=!0;function C(n,r,i,p){if(j){if("string"!=typeof n)throw new Error("clientId: should be string");s[n]=!0;var g,y=10,C=new URL(l),R=C.searchParams;R.set("client_id",String(n)),R.set("url",e.location.href),R.set("i",r||((g=t.cookie.match(v))&&g[1]||void 0)||""),i&&R.set("client_features",JSON.stringify(i));var L=C.toString(),O=o[L];if(O)return p(O);var P=a[L];if(P)P.push(p);else{P=[p],a[L]=P;var H=setTimeout(A,5e3);k(L,J,(function e(){if(--y>0)return k(L,J,e);clearTimeout(H),A()}))}}else p({flags:{},i:r,experiments:void 0});function A(){o[L]||(j=!1,T(n,"wSIKtymTfos,"),P&&E({flags:{},i:r,experiments:void 0},P))}function J(i){var a,s,l=u[n]||c,v=h(i.flags,l),p=v.flags,g=v.cssInsert,y=v.textInsert,C=v.hrefInsert,k=v.jsInsert,R=v.imageSrcInsert,O=v.redirect,A=v.htmlReplace,J={i:i.i,experiments:i.experiments,flags:p};(i.i&&(r=i.i),j)&&(T(n,i.experiments),clearTimeout(H),o[L]=J,J.i&&(a=J.i,s=new Date(Date.now()+31536e6).toUTCString(),t.cookie="".concat(f,"=").concat(a,"; path=/; expires=").concat(s,";")),O.length||(w(A),function(e,n){if(e&&e.length){for(var r=[],i=0,a=e;i<a.length;i++){var o=a[i],s=o.selector,c=o.value.trim();r.push("".concat(s," {").concat(c,"}"));try{for(var u=d(s),l=c.split(";"),f=0,v=l;f<v.length;f++){var p=v[f];if(u&&p){var h=m(p,":"),g=h[0],y=h[1];g&&void 0!==y&&(u.style[g]=y)}}}catch(e){}}try{var b=t.createElement("style");b.nonce=n,b.setAttribute("type","text/css"),b.textContent=r.join("\n").replace(/;/g," !important;"),t.body.appendChild(b)}catch(e){}}}(g,l.nonce),function(e,n){if(e&&e.length)for(var r=0,i=e;r<i.length;r++){var a=i[r],o=a.selector,s=a.value;try{var c=t.createElement("script");c.nonce=n,c.setAttribute("type","text/javascript"),c.innerHTML="\n                (function(element) {\n                    ".concat(s,"\n                })(document.querySelector('").concat(o,"'));"),t.body.appendChild(c)}catch(e){}}}(k,l.nonce),b(y),x(C),I(R)),function(t){if(t){var n=_(t);if(n){var r,i,a=n;i=setTimeout(o,50),function e(){S?o():r=setTimeout(e,10)}()}}function o(){clearTimeout(i),clearTimeout(r),e.location.replace(a)}}(O[0]),P&&E(J,P))}}function k(e,t,n){var r=new XMLHttpRequest;return r.open("GET",e),r.addEventListener("load",(function(){if(200!==r.status)n(r.statusText);else try{var e=JSON.parse(r.responseText);t(e)}catch(e){e instanceof Error&&n(e.message)}})),r.addEventListener("error",(function(){return n(r.statusText)})),r.send()}var R=((n={})[i.Init]=function(e,t,n,r){C(e,t,n,(function(e){return r&&r(e)}))},n[i.Flags]=function(e,t,n,r){C(e,t,n,(function(e){return r&&r(e.flags)}))},n[i.Experiments]=function(e,t,n,r){C(e,t,n,(function(e){return r&&r(e.experiments)}))},n[i.Param]=function(e,t,n,r){C(e,t,n,(function(e){return r&&r(e.i)}))},n[i.SetConfig]=function(e,t,n,r){L(e,n),r&&r()},n[i.GetConfig]=function(e,t,n,r){var i=u[e]||c,a=__assign({},i);delete a.nonce,r&&r(a)},n);function L(e,t){"object"==typeof t&&(u[e]=__assign(__assign({},c),t))}function O(e,t,n,r,i){if("object"==typeof e)return function(e){var t=e.clientId,n=e.config;if(!t)throw new Error("clientId is required");L(t,n),R.init(t,e.i,e.clientFeatures,e.callback)}(e);if(!t)throw new Error("method not specified");if(!(t in R))throw new Error("unknown method");"function"==typeof r&&(i=r,r={}),"function"==typeof n&&(i=n,n=void 0),"object"==typeof n&&(r=n,n=void 0),r||(r={}),R[t](e,n,r,i)}if(e.ymab&&e.ymab.a&&e.ymab.a.length)for(var P=0;P<e.ymab.a.length;P++)O.apply(null,e.ymab.a[P]);O.inited=!0,"ymab"in e&&e.ymab.inited||(e.ymab=O),function(e,t){var n;!function(e){e.AppendRemote="appendremote"}(n||(n={}));var r=["ru","ua","by","kz","com","com.tr"];var i={};function a(e){var t=new URL(e),n=t.hostname,i=t.protocol,a=(null==n?void 0:n.split("."))||[];"test"===a[1]&&a.splice(1,1),"tunneler-si"===a[1]&&(a.splice(1,1),a[0]="ab");var o=a[0],s=a[1],c=a.slice(2).join(".");return"https:"===i&&"ab"===o&&"yandex"===s&&-1!==r.indexOf(c)}e.addEventListener("message",(function(e){var r=e.origin;if(r&&a(r)){var o=function(e){if(!e)return null;if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(e){return null}}(e.data);if(o&&s[o.clientId]&&o.type===n.AppendRemote)!function(e){if(e&&function(e){return e&&/^https:\/\/abt\.s3\.yandex\.net\/(\w|-|\/|(\.)(?!\.))+\.js$/.test(e)}(e)&&!i[e]){var n=t.createElement("script");n.async=!0,n.type="text/javascript",n.src=e;var r=t.head;r.insertBefore(n,r.firstChild),i[e]=!0}}(o.url)}}))}(e,t)}(window,document);